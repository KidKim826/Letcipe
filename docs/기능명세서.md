# 기능 명세서

# 주요기능

# 회원가입

### 도메인 회원가입

- 필요한 정보
  - 이름 : 2~50
  - 아이디 : 5~30 - 특수문자 제외
  - 이메일 : 이메일 형식 지켜서
  - 비밀번호 : 8~20 - 영어, 특수문자, 숫자 다 포함, 비밀번호 재확인 필요
  - 닉네임 : 2~ 20 닉네임 중복 확인 필요,
  - 생년월일
  - 성별 (남/녀)
  - 직업 (학생, 주부, 직장인, 요식업 종사자) - 선택
  - 1, 2, 3, 4, 5인 이상 - 선택
  - 휴대폰 번호 : 문자로 받은 인증번호 필요
  - 주소 : 카카오 API
  - 프로필 이미지 : 사진 5개 중 하나 고르기 (추후 변경 가능)
- 휴대폰 번호로 문자 인증 (cool sms)

### 소셜 회원가입

# 로그인/로그아웃/비밀번호 찾기

### 도메인 로그인

- 받아야 하는 정보
  - 아이디
  - 비밀번호
- JWT 토큰으로 진행

### 로그아웃

- 쿠키 삭제 - 더 좋은 방식 생각 (Redis)
- 로그인된 회원한테만 보이게 함

### 비밀번호 찾기

- DB 비밀번호가 암호화 되어서 들어가기 때문에,  휴대폰 번호으로 임시 비밀번호를 발급한다.
- 휴대폰 번호을 통해서 **임시 비밀번호가 보내지고**, 로그인을 할 때 **해당 임시 비밀번호로만 로그인이 가능**하다.

# 회원 수정, 회원 탈퇴

### 회원 수정

- 회원 정보
  - 이름 - (X)
  - 아이디 - (X)
  - 이메일 - (O)
  - 비밀번호 - (O)
  - 닉네임 - (O) : 중복 확인 필요
  - 휴대폰 번호 - (X)
  - 주소 - (O)
  - 프로필 이미지 - (O)
- 닉네임은 중복체크를 통과 후, 변경할 수 있다.

### 회원 탈퇴

- 비밀번호로 재확인
- 회원 상태 변경

------

# 레시피

## Receipe

------

### 생성

- 필요한 정보
  - 현재 로그인 유저 정보
  - 요리 제목
  - 내용
  - 재료
  - 레시피 상세 내용
  - 조리 시간 (Nullable)
  - 인분
  - 레시피 태그 설정 (태그 마스터 DB를 따로 저장)
- 재료를 추가할 때 계량을 어떻게 해결할지 고민 필요
- 레시피는 Step을 추가하여 작성할 수 있다.

### 수정

- 수정할 수 있는 정보
  - 요리 제목
  - 내용
  - 재료
  - 레시피 상세 내용
  - 좋아요
  - 조회수
  - 장바구니 담기 횟수
- 재료들과 레시피 Step 삭제 가능해야 함

### 삭제

- status 값 변경

## Comment

------

### 생성

- 필요한 정보
  - 현재 로그인 유저 정보
  - 내용

### 수정

- 수정 가능 정보
  - 내용

### 삭제

- status 값 변경

# 레시피 리스트

### 생성

- 필요한 정보
  - 레시피들
  - 레시피 리스트 이름
  - 레시피 리스트 설명(필수 x)
- 장바구니에 레시피를 담은 후 생성
- 레시피 리스트가 생성되기 전에는 추가하기 불가
- 레시피 리스트를 생성하기 전에 재료 확인 필요
- 생성된 레시피 리스트에 반영되는 재료 정보는 레시피의 재료 정보와 같다.
- 추가한 재료의 경우 체크리스트에서만 반영

### 수정

- 수정가능한 정보
  - 레시피들
    - 레시피를 검색한 후에 (장바구니 담기/ 레시피리스트 담기) 버튼 중 레시피리스트 담기 버튼을 클릭해서 어디에 추가할지 선택할 수 있음
    - (위의 것이 구현이 어렵거나 시간이 없을 시) 장바구니 페이지를 활용해서 수정함 → 장바구니에 담아서 수정하기 때문에 그전 장바구니를 비워야하고 confirm을 띄워줘서 확인을 받아야 함
    - 삭제시엔 레시피리스트로 들어가서 버튼을 눌러서 삭제
  - 레시피 리스트 이름
  - 레시피 리스트 설명(필수 x)
- 내가 만든 레시피리스트만 수정 가능

### 삭제

- 삭제 버튼
- status 값만 수정
- *히스토리는 어차피 새롭게 복제한 것이니 신경 X*

### 공유

- private/public 버튼 (공개/ 비공개)
- 링크 공유 버튼 → 링크가 복사

# 레시피 추천/검색

### 검색창 기반

- 재료 검색 → 레시피 추천(검색)
  - 재료 검색하면 재료들을 받아오면서 재료 id를 받아옴
    - 해당 값들을 list에 담아서 레시피들을 request
    - api(3종류) → 해당 데이터 받아서 프론트에서 처리
- 이름으로 검색 → 레시피 검색
- 재료로 검색하는 것과 레시피 이름으로 검색하는 건 **탭**으로 구분

### 장바구니 기반

- 장바구니 레시피 재료 모음 → 레시피 추천(검색)
  - 장바구니 재료들을 기반으로 id를 저장해놓고 이용
    - 재료들 list에 담아서 레시피들을 request
    - api(3종류) → **미정**

# 마이페이지

- 마이 레시피리스트(플레이리스트)
- 지금 실행중인 레시피리스트 (지금 내가 요리 중이거나 요리 예정이거나 )
- 레시피 리스트 히스토리 (그동안 한거)
- 레시피 리스트 즐겨찾기 (내거든 남의거든)
- 진행중인 장보기 리스트 (재료목록들 내가 임의로 추가한거도 같이 있든 없든)
- 레시피 즐겨찾기
- 마이 레시피
- 내 레시피
  - 목록
  - - 버튼 → 레시피 생성 페이지
- 회원정보 수정 페이지

# 풋터

- 장바구니
- 홈버튼
- 검색
- 마이 페이지
- 게시판

# 장바구니

### 버튼

- 레시피 리스트 생성 버튼 →
- 장보기 버튼

### 데이터 보관

→ DB에 저장

### 삭제

→ 특정 기간 지난 후 삭제

1. 레시피 단계에서 스텝도 키여야하지 않을까?
2. 카테고리들을 공통코드 테이블로 하나로 만들 수 있지만 어차피 두개니까 선택해서 만들어보도록
   1. 그리고 얘네는 N:1로 연결하지 말아라
3. 레시피 태그 → 복합키로 해서 중복을 없애라
4. 장바구니 → 그냥 DB table을 만들자 → status
5. 근데

장바구니 자동 삭제 ⇒ 그냥 사용자에게 맡기는 기능으로 풀자(장바구니에 몇 개가 남아있는데 새로 채우겠습니까?)

# 관리자 페이지

아래에서 수집한 로그 보여줄 예정

- 일자 등의 정보를 설정
- 해당 정보에 맞는 데이터를 그래프로 보여줌

# 로그수집

> 사용자가 하는 모든 행동 로그를 하둡에 저장, 회원 가입 시 로그 수집에 대한 동의 필요

### 수집 데이터

- 로그 발생 시간

- 유저 정보(나이, 성별, 1인 가구 여부, 결혼 여부)

  - 생년월일
  - 성별 (남/녀)
  - 직업 (학생, 주부, 직장인, 요식업 종사자)
  - 1, 2, 3, 4, 5인 이상

- 행동

  - 접속한 페이지(어떤 버튼을 눌렀는지)

    - 내 리스트 페이지 접속
    - 마이페이지 접속

    → 자주 사용하는 기능을 도출, 자주 사용하는 기능을 메인페이지에 넣을 수 있음. 접근성 높은 UX 구현 기대

  - 호출한 API 메타데이터

    - 검색
    - 태그
    - 장바구니 담기

    → 많이 찾는 태그, 특정 사용자가 많이 찾는 레시피 추천 등 구현

### 기대

- 일자별로 기간 잘라서 구간별로 시간별로 잘라서 볼 수가 있음
- 유저 정보로 어떤 레시피를 많이 선택, 접속했는지 확인할 수 있음
- 어떤 레시피들이 함께 장바구니에 담겼는지 → 요리 추천할 때 사용할 예정



# 추가기능 (시간되면)

# 자유 게시판

## Board

------

### 생성

- 필요한 정보
  - 현재 로그인 유저 정보
  - 제목
  - 내용

### 수정

- 수정 가능 정보
  - 제목
  - 내용
  - 좋아요

### 삭제

- status 값 변경

## Comment

------

### 생성

- 필요한 정보
  - 현재 로그인 유저 정보
  - 내용

### 수정

- 수정 가능 정보
  - 내용

### 삭제

- status 값 변경